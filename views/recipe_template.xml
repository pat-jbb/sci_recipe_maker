<odoo>
    <template id="recipe_cooking_time" name="Recipe Cooking Time">
        <div t-if="p.prep_time or p.cook_time or p.total_time"
             class="recipe-times d-flex justify-content-around align-items-center my-4">
            <div t-if="p.prep_time" class="prep-time">
                <img class="img" src="/sci_recipe_maker/static/images/prep-time.svg" width="22" height="auto" alt=""
                     title=""/>
                <span class="align-middle">
                    <t t-esc="p._get_hm_format(p.prep_time)"/>
                </span>
            </div>
            <div t-if="p.cook_time" class="cook-time">
                <img class="img" src="/sci_recipe_maker/static/images/cook-time.svg" width="22" height="auto" alt=""
                     title=""/>
                <span class="align-middle">
                    <t t-esc="p._get_hm_format(p.cook_time)"/>
                </span>
            </div>
            <div t-if="p.total_time" class="total-time">
                <img class="img" src="/sci_recipe_maker/static/images/total-time.svg" width="22" height="auto" alt=""
                     title=""/>
                <span class="font-weight-bold align-middle">
                    <t t-esc="p._get_hm_format(p.total_time)"/>
                </span>
            </div>
        </div>
    </template>

    <template id="recipe_snippet" name="Recipe Snippet">
        <t t-if="p.image_medium">
            <div class="thumb d-flex align-items-center" style="height:200px;overflow:hidden;"
                 t-field="p.image_medium" t-options="{'widget': 'image'}"/>
        </t>
        <div class="mt-4">
            <a class="text-decoration-none" t-att-href="p.website_url">
                <h5 class="font-weight-bold text-black" t-field="p.name"/>
            </a>
            <i>
                <span t-field="p.post_date" t-options='{"format": "MMMM dd, yyyy"}'/>
                by
                <span t-esc="p.sudo().author_id.name"/>
            </i>
            <t t-call="sci_recipe_maker.recipe_cooking_time"/>
            <p class="mt-3" t-field="p.subtitle"/>
            <a class="text-underline" t-att-href="p.website_url">Read More</a>
        </div>
    </template>

    <template id="product_recipe_snippet" name="Product Recipe Snippet">
        <div t-foreach="posts" t-as="p" class="col-lg-4 my-3 loading_container s_latest_posts_post">
            <t t-call="sci_recipe_maker.recipe_snippet"/>
        </div>
    </template>

    <template id="sidebar_recipe_snippet" name="Sidebar Recipe Snippet">
        <div t-foreach="posts" t-as="p" class="col-lg-12 my-3 loading_container s_latest_posts_post">
            <t t-call="sci_recipe_maker.recipe_snippet"/>
        </div>
    </template>

    <template id="homepage_recipe_snippet" name="Homepage Recipe Snippet">
        <div t-foreach="posts" t-as="p" class="col-lg-3 my-3 loading_container s_latest_posts_post">
            <t t-call="sci_recipe_maker.recipe_snippet"/>
        </div>
    </template>

    <template id="recipe_post_template" name="Recipe Post Template">
        <h1 t-field="blog_post.name" id="blog_post_name" t-att-data-blog-id="blog_post.id"
            placeholder="Blog Post Title"/>
        <i>
            <span t-field="blog_post.post_date" t-options='{"format": "MMMM dd, yyyy"}'/>
            by
            <span t-esc="blog_post.sudo().author_id.name"/>
            <a class="ml-3" href="#comments">Leave a Comment</a>
        </i>
        <div class="row align-items-center">
            <div class="col-lg-6 mt-3">
                <span t-field="blog_post.image_medium"
                      t-options="{'widget': 'image', 'alt': blog_post.image_caption or '%s Image' % blog_post.name}"
                      t-att-alt="blog_post.name"/>
            </div>
            <div class="col-lg-6 my-3">
                <div t-if="blog_post.prep_time or blog_post.cook_time or blog_post.total_time"
                     class="recipe-times d-flex justify-content-center align-items-center mb-4">
                    <div class="prep-time text-center">
                        <img class="img" src="/sci_recipe_maker/static/images/prep-time.svg" height="36" width="auto"
                             alt="" title=""/>
                        <h6 class="font-weight-bold mt-3 mb-2 text-black">Prep Time</h6>
                        <span class="text-tertiary">
                            <t t-esc="blog_post._get_hm_format(blog_post.prep_time)"/>
                        </span>
                    </div>
                    <div class="cook-time text-center">
                        <img class="img" src="/sci_recipe_maker/static/images/cook-time.svg" height="36" width="auto"
                             alt="" title=""/>
                        <h6 class="font-weight-bold mt-3 mb-2 text-black">Cook Time</h6>
                        <span class="text-tertiary">
                            <t t-esc="blog_post._get_hm_format(blog_post.cook_time)"/>
                        </span>
                    </div>
                    <div class="total-time text-center">
                        <img class="img" src="/sci_recipe_maker/static/images/total-time.svg" height="36" width="auto"
                             alt="" title=""/>
                        <h6 class="font-weight-bold mt-3 mb-2 text-black">Total Time</h6>
                        <span class="text-tertiary font-weight-bold">
                            <t t-esc="blog_post._get_hm_format(blog_post.total_time)"/>
                        </span>
                    </div>
                </div>
                <div t-if="blog_post.subtitle" class="recipe-summary mb-4">
                    <p class="font-weight-bold" t-field="blog_post.subtitle"/>
                </div>
                <div class="recipe-details">
                    <div t-if="blog_post.course_ids" class="recipe-course my-2">
                        <span>Course:</span>
                        <span t-field="blog_post.course_ids"/>
                    </div>
                    <div t-if="blog_post.cuisine_ids" class="recipe-cuisine my-2">
                        <span>Cuisine:</span>
                        <span t-field="blog_post.cuisine_ids"/>
                    </div>
                    <div t-if="blog_post.servings" class="recipe-author my-2">
                        <span>Servings:</span>
                        <span t-field="blog_post.servings"/>
                    </div>
                    <div t-if="blog_post.author" class="recipe-author my-2">
                        <span>Author:</span>
                        <span t-field="blog_post.author"/>
                    </div>
                </div>
            </div>
        </div>
        <div t-if="blog_post.ingredient_line_ids" class="row">
            <div class="col-lg-12 mt-5">
                <h2 class="text-black mb-3">Ingredients</h2>
                <t t-set="ingredient_groups" t-value="blog_post.get_recipe_groups(blog_post.ingredient_line_ids)"/>
                <t t-foreach="ingredient_groups" t-as="group">
                    <h5 t-if="group != 'no_group'" class="font-weight-bold mt-3">
                        <t t-esc="group"/>
                    </h5>
                    <ul class="recipe-ingredients list-unstyled card-columns mb-0 pl-4">
                        <t t-foreach="group_value" t-as="ingredient">
                            <li>
                                <!--@formatter:off-->
                                <span class="ingredient-amount" t-field="ingredient.amount"/>
                                <span class="ingredient-unit" t-field="ingredient.unit"/>
                                <a t-if="ingredient.sudo().product_id and ingredient.sudo().product_id.website_published"
                                   t-att-href="'/shop/product/%s' % slug(ingredient.sudo().product_id)">
                                    <span class="ingredient-name" t-field="ingredient.name"/>
                                    <t t-if="ingredient.notes">,</t>
                                </a>
                                <t t-else="">
                                    <span class="ingredient-name" t-field="ingredient.name"/>
                                    <t t-if="ingredient.notes">,</t>
                                </t>
                                <t t-if="ingredient.notes">
                                    <span class="ingredient-note" t-field="ingredient.notes"/>
                                </t>
                                <!--@formatter:on-->
                            </li>
                        </t>
                    </ul>
                </t>
                <div class="line mt-5"/>
            </div>
        </div>
        <div t-if="blog_post.instruction_line_ids" class="row">
            <div class="col-lg-12 mt-5">
                <h2 class="text-black mb-3">Instructions</h2>
                <t t-set="instruction_groups" t-value="blog_post.get_recipe_groups(blog_post.instruction_line_ids)"/>
                <t t-foreach="instruction_groups" t-as="group">
                    <h5 t-if="group != 'no_group'" class="font-weight-bold mt-3">
                        <t t-esc="group"/>
                    </h5>
                    <ol class="recipe-instruction mb-0">
                        <t t-foreach="group_value" t-as="instruction">
                            <li>
                                <span class="instruction-line" t-field="instruction.name"/>
                            </li>
                        </t>
                    </ol>
                </t>
                <div class="line mt-5"/>
            </div>
        </div>
        <div t-if="blog_post.has_notes()" class="row">
            <div class="col-lg-12 mt-5">
                <h2 class="text-black mb-3">Recipe Notes</h2>
                <div t-field="blog_post.notes"/>
                <div class="line mt-5"/>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 mt-5">
                <div class="recipe-about d-flex align-items-center">
                    <div t-field="blog_post.sudo().author_id.image" class="o_not_editable"
                         t-options='{"widget": "image", "class": "d-block rounded-circle px-3", "resize": "150x150"}'/>
                    <div class="recipe-about-author">
                        <h4 class="mb-2">About
                            <t t-esc="blog_post.sudo().author_id.name"/>
                        </h4>
                        <p class="mb-0" t-field="blog_post.sudo().author_id.about_author"/>
                    </div>
                </div>
                <div class="line mt-5"/>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 mt-5">
                <t t-if="website.user_id != user_id">
                    <h2 class="text-black mb-3">Leave a comment</h2>
                </t>
                <div id="comments">
                    <t t-call="portal.message_thread">
                        <t t-set="object" t-value="blog_post"/>
                    </t>
                </div>
            </div>
        </div>
    </template>

    <template id="blog_post_complete_inherited" active="False" customize_show="True"
              inherit_id="website_blog.blog_post_complete" name="Recipe Post Override">
        <xpath expr="//t[@t-call='website_blog.index']" position="inside">
            <t t-set="head">
                <script type="application/ld+json" t-raw="blog_post.get_structured_data()"/>
            </t>
            <section t-if="blog_post.is_recipe" class="recipe mt-5">
                <div class="container">
                    <t t-call="sci_recipe_maker.recipe_post_template"/>
                </div>
            </section>
        </xpath>
        <xpath expr="//div[hasclass('blog_header')]" position="attributes">
            <attribute name="t-if">not blog_post.is_recipe</attribute>
        </xpath>
        <xpath expr="//div[hasclass('blog_content')]" position="attributes">
            <attribute name="t-if">not blog_post.is_recipe</attribute>
        </xpath>
        <xpath expr="//div[hasclass('o_sharing_links')]" position="attributes">
            <attribute name="t-if">not blog_post.is_recipe</attribute>
        </xpath>
    </template>

    <template id="recipe_tag_template" name="Recipe Tag Template">
        <t t-call="website_blog.index">
            <!--            <t t-set="head">-->
            <!--                <link t-att-href="'/blog/%s/feed' % (blog.id)" type="application/atom+xml" rel="alternate" title="Atom Feed"/>-->
            <!--                <meta t-if="len(active_tag_ids) &gt; 0" name="robots" t-attf-content="#{len(active_tag_ids) &gt; 1 and 'noindex,'} nofollow"/>-->
            <!--            </t>-->
            <div class="oe_structure" id="oe_structure_website_blog_post_short_1"/>
            <div class="oe_structure">
                <section class="mb0">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 mb32 mt16 text-center">
                                <h1 t-field="blog.name"/>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 offset-lg-2" t-ignore="True" id="main_column">

                        <div t-if="not blog_posts" class="container mb64">
                            <p class="css_editable_hidden">
                                <h1>No blog post yet.</h1>
                            </p>
                            <p groups="website.group_website_designer">
                                Click on "New Page" in the top-right corner to write your first blog post.
                            </p>
                        </div>

                        <div t-foreach="blog_posts" t-as="blog_post" class="mb32" name="blog_post">
                            <a t-attf-href="/blog/#{ slug(blog_post.blog_id) }/post/#{ slug(blog_post) }">
                                <h2 t-field="blog_post.name" class="mb4 o_blog_post_title">Untitled Post</h2>
                            </a>
                            <div class="text-muted">
                                <div t-field="blog_post.teaser" class="mb12 mt12 o_blog_post_teaser"/>
                                <div name="blog_post_data" class="mb0">
                                    <span t-field="blog_post.author_id" style="display: inline-block;"
                                          t-options="{                                 &quot;widget&quot;: &quot;contact&quot;,                                 &quot;fields&quot;: [&quot;name&quot;]                             }"/>
                                    &amp;mdash;
                                    <span t-field="blog_post.post_date"
                                          t-options="{&quot;format&quot;: &quot;MMMM yyyy&quot;}"/>
                                    <span t-if="len(blog_post.message_ids) &gt; 0">
                                        &amp;mdash;
                                        <t t-esc="len(blog_post.message_ids)"/>
                                        <t t-if="len(blog_post.message_ids) &lt;= 1">comment</t>
                                        <t t-if="len(blog_post.message_ids) &gt; 1">comments</t>
                                    </span>
                                    <span t-if="blog_post.visits &gt; 0">
                                        &amp;mdash;
                                        <t t-esc="blog_post.visits"/>
                                        <t t-if="blog_post.visits &lt;= 1">view</t>
                                        <t t-if="blog_post.visits &gt; 1">views</t>
                                    </span>
                                    <span t-if="not blog_post.website_published" class="badge badge-danger">
                                        unpublished
                                    </span>
                                    <span class="fa fa-tags" role="img" aria-label="Tags" title="Tags"/>


                                    <div class="o_sharing_links">
                                        <a class="fa fa-twitter-square o_twitter" aria-label="Twitter" title="Twitter"/>
                                        <a class="fa fa-facebook-square o_facebook" aria-label="Facebook"
                                           title="Facebook"/>
                                        <a class="fa fa-linkedin-square o_linkedin" aria-label="LinkedIn"
                                           title="LinkedIn"/>
                                        <a class="fa fa-google-plus-square o_google" aria-label="Google Plus"
                                           title="Google Plus"/>
                                    </div>
                                    <hr/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="oe_structure" id="oe_structure_website_blog_post_short_2"/>
        </t>
    </template>


</odoo>